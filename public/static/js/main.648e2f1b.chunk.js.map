{"version":3,"sources":["components/Header/Header.js","contexts/CurrentUserContext.js","components/Card/Card.js","components/Main/Main.js","components/Footer/Footer.js","components/ImagePopup/ImagePopup.js","components/PopupWithForm/PopupWithForm.js","utils/api.js","components/EditProfilePopup/EditProfilePopup.js","components/EditAvatarPopup/EditAvatarPopup.js","components/AddPlacePopup/AddPlacePopup.js","components/App/App.js","reportWebVitals.js","index.js","images/logo.svg"],"names":["Header","className","src","headerLogo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onClick","onCardDelete","link","name","onCardClick","onCardLike","length","Main","style","backgroundImage","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","key","Footer","ImagePopup","onClose","PopupWithForm","isOpen","title","id","onSubmit","noValidate","children","buttonText","api","baseUrl","headers","this","_baseUrl","_headers","fetch","then","_checkResponse","user","method","body","JSON","stringify","data","place","deleteLike","setLike","res","ok","json","Promise","reject","status","authorization","EditProfilePopup","useState","setName","description","setDescription","useEffect","event","preventDefault","onUpdateUser","placeholder","minLength","maxLength","autoComplete","required","onChange","target","value","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setPlace","setLink","handleUpdateAddPlace","addNewCard","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","all","getUserInfo","getInitialCards","initialCards","catch","err","console","log","closeAllPopups","Provider","changeLikeCardStatus","newCard","state","c","cardId","deleteCard","filter","setAvatar","userData","setUserInfo","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.648e2f1b.chunk.js","sourcesContent":["import React from \"react\";\r\nimport headerLogo from \"../../images/logo.svg\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={headerLogo} alt=\"логотип\" />\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  // Определяем, являемся ли мы владельцем текущей карточки\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n\r\n  //Создаём переменную, которую после зададим в `className` для кнопки удаления\r\n  const cardDeleteButtonClassName = (\r\n    `card__trash ${isOwn ? 'card__trash_visible' : 'card__trash_hidden'}`\r\n  );\r\n\r\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n\r\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\r\n  const cardLikeButtonClassName = `card__like ${\r\n    isLiked ? \"card__like_active\" : \"\"\r\n  }`;\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card._id);\r\n  }\r\n\r\n  \r\n\r\n  return(\r\n    <article className=\"card\">\r\n      <button type=\"button\" className={`${cardDeleteButtonClassName} hover-button`} onClick={handleDeleteClick}></button>\r\n      <div className=\"card__wrapper\">\r\n        <img className=\"card__photo\" src={props.card.link} alt={props.card.name} onClick={handleClick}/>\r\n      </div>\r\n      <div className=\"card__description\">\r\n        <h2 className=\"card__title overflow\">{props.card.name}</h2>\r\n        <div className=\"card__like-block\">\r\n          <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n          <span className=\"card__like-counter\">{props.card.likes.length}</span>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  )\r\n}\r\n\r\nexport default Card;","import React from \"react\";\nimport Card from \"../Card/Card\";\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n \n\n  return (\n    <main className=\"main\">\n      <section className=\"profile width-container\">\n        <div className=\"profile__avatar\" style={{backgroundImage: `url(${currentUser.avatar})`}}></div>\n        <button className=\"profile__avatar-button\" onClick={props.onEditAvatar}></button>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__title overflow\">{currentUser.name}</h1>\n          <button type=\"button\" className=\"profile__button profile__button_edit hover-button\" onClick={props.onEditProfile}></button>\n          <p className=\"profile__subtitle overflow\">{currentUser.about}</p>\n        </div>\n        <button type=\"button\" className=\"profile__button profile__button_add hover-button\" onClick={props.onAddPlace}></button>\n      </section>\n\n      <section className=\"cards-grid width-container\">\n        {props.cards.map(card => {\n          return(\n            <Card \n              key={card._id} \n              card={card}\n              onCardClick={props.onCardClick}\n              onCardLike={props.onCardLike}\n              onCardDelete={props.onCardDelete}\n            />\n          )\n        })}\n      </section>\n\n    </main>\n  )\n}\n\nexport default Main;","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer width-container\">&copy; 2021 Mesto Russia</footer>\r\n  )\r\n}\r\n\r\nexport default Footer;","import React from \"react\";\r\n\r\nfunction ImagePopup(props) {\r\n  return (\r\n    <div className={`popup popup_modal ${props.card.link && 'popup_opened'}`}>\r\n      <figure className=\"popup__figure\">\r\n        <button type=\"button\" className=\"popup__close popup__close_modal hover-button\" onClick={props.onClose}></button>\r\n        <img className=\"popup__photo\" src={props.card.link} alt={props.card.name} />\r\n        <figcaption className=\"popup__caption\">{props.card.name}</figcaption>\r\n      </figure>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;","import React from \"react\";\n\nfunction PopupWithForm(props) {\n  return(\n    <div className={`popup popup_${props.name} ${props.isOpen && 'popup_opened'}`}>\n      <div className=\"popup__content\">\n        <button type=\"button\" className={`popup__close popup__close_${props.name} hover-button`} onClick={props.onClose}></button>\n        <h3 className=\"popup__title\">{props.title}</h3>\n        <form className=\"popup__form\" id={`popup-${props.name}`} name={`${props.name}`} onSubmit={props.onSubmit} noValidate>\n          {props.children}\n          <button type=\"submit\" className={`popup__button popup__button_${props.name}`}>{props.buttonText}</button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithForm;","class Api {\r\n  constructor({baseUrl, headers}) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: this._headers,\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: this._headers,\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  setUserInfo(user) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: user.name,\r\n        about: user.about\r\n      })\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  addCard(data) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.place,\r\n        link: data.link\r\n      })\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  deleteCard(data) {\r\n    return fetch(`${this._baseUrl}/cards/${data}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  setLike(data) {\r\n    return fetch(`${this._baseUrl}/cards/${data._id}/likes`, {\r\n      method: 'PUT',\r\n      headers: this._headers\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  deleteLike(data) {\r\n    return fetch(`${this._baseUrl}/cards/${data._id}/likes`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  setAvatar(data) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: data.avatar\r\n      })\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n\r\n  changeLikeCardStatus(data, isLiked) {\r\n    if (!isLiked) {\r\n      return this.setLike(data);\r\n    } else {\r\n      return this.deleteLike(data);\r\n    }\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка ${res.status}`)\r\n  }\r\n\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-32',\r\n  headers: {\r\n    authorization: 'f5a0177a-689d-461c-8da0-42fcda5fb7c6',\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\nexport default api;","import React from \"react\";\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\n\nfunction EditProfilePopup(props) {\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // После загрузки текущего пользователя из API\n  // его данные будут использованы в управляемых компонентах.\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleUpdateName(event) {\n    setName(event.target.value);\n  }\n\n  function handleUpdateDescription(event) {\n    setDescription(event.target.value);\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    props.onUpdateUser({\n      name: name,\n      about: description,\n    });\n  }\n\n\n  return(\n    <PopupWithForm \n      name={\"edit\"}\n      title={\"Редактировать профиль\"}\n      isOpen={props.isOpen}\n      buttonText={\"Сохранить\"}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"text\"\n        className=\"popup__input popup__input_type_name\"\n        id=\"name\"\n        name=\"name\"\n        placeholder=\"Имя\"\n        minLength=\"2\"\n        maxLength=\"40\"\n        autoComplete=\"off\"\n        required\n        onChange={handleUpdateName}\n        value={name || \"\"}\n      />\n      <span id=\"name-error\" className=\"popup__error\"></span>\n      <input\n        type=\"text\"\n        className=\"popup__input popup__input_type_about\"\n        id=\"about\"\n        name=\"about\"\n        placeholder=\"О себе\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        autoComplete=\"off\"\n        required\n        onChange={handleUpdateDescription}\n        value={description || \"\"}\n      />\n      <span id=\"about-error\" className=\"popup__error\"></span>\n    </PopupWithForm>\n  )\n\n }\n\n export default EditProfilePopup;","import React from \"react\";\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = React.useRef({});\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    props.onUpdateAvatar({avatar: avatarRef.current.value});\n    avatarRef.current.value = \"\";\n  }\n\n  return (\n    <PopupWithForm \n      name={\"avatar\"} \n      title={\"Обновить аватар\"} \n      isOpen={props.isOpen} \n      buttonText={\"Сохранить\"} \n      onClose={props.onClose} \n      onSubmit={handleSubmit} \n    >\n      <input\n        type=\"url\"\n        className=\"popup__input popup__input_type_link\"\n        id=\"avatar\"\n        name=\"avatar\"\n        placeholder=\"Ссылка на картинку\"\n        autoComplete=\"off\"\n        required\n        ref={avatarRef}\n      />\n      <span id=\"avatar-error\" className=\"popup__error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;","import React from \"react\";\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n  const [place, setPlace] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    props.addNewCard({place, link});\n  }\n\n  function handleUpdateAddPlace(event) {\n    if (event.target.name === \"place\") {\n      setPlace(event.target.value);\n    } else\n    if (event.target.name === \"link\") {\n      setLink(event.target.value);\n    }\n  }\n\n  React.useEffect(() => {\n    setPlace(\"\");\n    setLink(\"\");\n  }, [props.isOpen]);\n\n\n  return (\n    <PopupWithForm\n      name={\"add\"}\n      title={\"Новое место\"}\n      isOpen={props.isOpen}\n      buttonText={\"Создать\"}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"text\"\n        className=\"popup__input popup__input_type_place\"\n        id=\"place\"\n        name=\"place\"\n        placeholder=\"Название\"\n        minLength=\"2\"\n        maxLength=\"30\"\n        autoComplete=\"off\"\n        required\n        value={place}\n        onChange={handleUpdateAddPlace}\n      />\n      <span id=\"place-error\" className=\"popup__error\"></span>\n      <input\n        type=\"url\"\n        className=\"popup__input popup__input_type_link\"\n        id=\"link\"\n        name=\"link\"\n        placeholder=\"Ссылка на картинку\"\n        autoComplete=\"off\"\n        required\n        value={link}\n        onChange={handleUpdateAddPlace}\n      />\n      <span id=\"link-error\" className=\"popup__error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;","import React from \"react\";\nimport Header from \"../Header/Header\";\nimport Main from \"../Main/Main\";\nimport Footer from \"../Footer/Footer\";\nimport ImagePopup from \"../ImagePopup/ImagePopup\";\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\nimport api from \"../../utils/api\";\nimport EditProfilePopup from \"../EditProfilePopup/EditProfilePopup\";\nimport EditAvatarPopup from \"../EditAvatarPopup/EditAvatarPopup\";\nimport AddPlacePopup from \"../AddPlacePopup/AddPlacePopup\";\n\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({})\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n\n  React.useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n      .then(([user, initialCards]) => {\n        setCurrentUser(user);\n        setCards(initialCards);\n      })\n      .catch((err) => {\n        console.log(`Что-то не так: ${err}`)\n      })\n  }, []);\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n  };\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n  };\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\n  };\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api\n    .changeLikeCardStatus(card, isLiked)\n    .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c))\n    })\n    .catch((err) => {\n      console.log(`Что-то не так: ${err}`)\n    })\n  }\n\n\n  function handleCardDelete(cardId) {\n    api\n      .deleteCard(cardId)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== cardId));\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`Что-то не так: ${err}`)\n      })\n  }\n\n  function handleUpdateUser(data) {\n    api\n      .setUserInfo(data)\n      .then((userData) => {\n        setCurrentUser(userData);\n        closeAllPopups();\n     })\n     .catch((err) => {\n      console.log(`Что-то не так: ${err}`)\n    })\n  }\n\n  function handleUpdateAvatar(data) {\n    api\n      .setAvatar(data)\n      .then((userData) => {\n        setCurrentUser(userData);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`Что-то не так: ${err}`)\n      });\n  }\n  \n  function handleAddPlaceSubmit(data) {\n    api\n      .addCard(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`Что-то не так: ${err}`)\n      });\n  }\n\n  const closeAllPopups = () => {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsConfirmPopupOpen(false);\n    setSelectedCard({})\n  }\n\n  return (\n  <CurrentUserContext.Provider value={currentUser}>\n    <div className=\"page\">\n      <Header/>\n      <Main\n        onEditAvatar={handleEditAvatarClick}\n        onEditProfile={handleEditProfileClick}\n        onAddPlace={handleAddPlaceClick}\n        onCardClick={handleCardClick}\n        cards={cards}\n        onCardLike={handleCardLike}\n        onCardDelete={handleCardDelete}\n      />\n      <Footer/>\n\n      <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n      />\n\n      <EditProfilePopup\n        isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n      />\n\n      <AddPlacePopup\n        isOpen={isAddPlacePopupOpen}\n        onClose={closeAllPopups}\n        addNewCard={handleAddPlaceSubmit}\n      />\n\n      <PopupWithForm\n        name={\"confirm\"}\n        title={\"Вы уверены?\"}\n        isOpen={isConfirmPopupOpen}\n        buttonText={\"Да\"}\n        onClose={closeAllPopups}>\n      </PopupWithForm>\n\n      <ImagePopup\n        card={selectedCard}\n        onClose={closeAllPopups}\n      />\n\n    </div>\n  </CurrentUserContext.Provider>\n  )\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.51772f7c.svg\";"],"sourceRoot":""}